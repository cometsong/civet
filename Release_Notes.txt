CIVET Release Notes
This document describes the high-level changes made to the civet software
from release to release.  It is cumulative, with the most recent changes
listed first.  The most up-to-date version is in the civet git repository
redmine:/var/git/civet.git

Version 1.4.1
-------------
Bug fixes:
 - Fixed problem where tool exit_test_logic was not geting validated 
   properly
 - Fix problem where civet_cancel was not removing queued jobs
   (only running and held jobs were canceled)
 - Use "American" spelling of "canceled"

Features
 - Added optional tool mem attribute, specifies amount of memory in
   gigabyes that will be requested by the generated batch job 
 - Add some #PBS directives to generated batch script for documentation
   and to facilitate running steps manually during testing/debugging
 - Add --keep-temp (-t) option to civet_run. If passed, the delete temp
   files job will not be submitted to clean up temporary pipeline files.
 - Add --hold option to civet_run. If passed, the holds on pipeline jobs
   will not be released by civet. The jobs will stay held until the user
   releases them. 

Version 1.4.0
-------------
Bug fixes
 - Fixed a problem in determining the version of civet components.
   Problem also fixed, separately, in similar cga code.

Features
 - Add "exit_if_exists" and "exit_test_logic" attributes to tools
 - Add "if_exists", "if_not_exists" attributes to commands
 - Only add python to the list of modules if it is required to run 
   the validate script, and the tool does not already specify a 
   python modulefile
 - Civet version now recorded in generated scripts


Version 1.3.1
-------------
Bug fixes
 - Create submitted_scripts directory with access only by the
   user running the pipeline (mode 600).

Features
 - Added a new bin subdirectory: bin/maintenance_programs.
 - Added a new program wall_time_ranges.py, which returns 
   - Requested
   - Max
   - Average
   - Min
   times for each cluster job in a pipeline.  A single parameter is
   a directory which is walked to find all the log directories contained
   therein.


Version 1.3.0
-------------
Bug fixes
 - Don't insert a space between an option's command_text and value if 
   command_text ends it either '=' or ':' when generating command line
 - Fix civet_status display of pipelines submitted with --no-submit

Features
 - Implemented "option override"
 - Implemented threads="True" tool options (value is taken from Tool's
   threads attribute)

Version 1.2.1
-------------
Bug fixes
 - Civet did not correctly detect command failures indicated by a non-
   zero return status.

This is a bug-fix-only release, and contains no new features.

Version 1.2.0
-------------
Bug fixes
 - Fix incorrect Torque error code -> error string mappings. Had to implement 
   our own lookup, since pbs_python had old (Torque 2.X) mappings

Features
 - Enhanced exception handling for job submission errors (users no longer
   see a stack trace when there is a Torque error, instead they simply 
   see a helpful error message) 
 - Modify parse_XML to allow an optional colon separated list of directories
   to search for XML tool definition files. The civet_run command now will 
   pass the contents of the CIVET_PATH environment variable as this parameter.
 - Add new syntax for explicitly declaring the default output directory,
   <dir ... default_output="True" ... />  If not specified, the current
   working directory is used.
   Previously the default output directory was implicitly specified as the
   first directory tag in the XML that wasn't marked as input="True". This
   promised to be error prone and complicate future maintenance.
 - Add a new file to the logs directory named command_line.txt, which
   contains the current working directory when the civet pipeline was
   invoked, and the entire invoking pipeline command line.
 - The version string management was proving to be error prone when
   cutting new versions.  Updated the version reporting to leverage
   git capabilities.  Version is now obtained from git, rather than
   being hardcoded.

Version 1.1.0
-------------
Bug fixes
 - Fix problem creating directories when create="False" was specified.
   Sometimes this attribute was ignored. Reported by Anu.
   
Features
 - Enhanced civet_status:
    - default is now an abbreviated status listing
    - the --verbose option now outputs the original job-by-job status
    - the --recursive (short form -r) option searches the specified tree for 
      log directories and outputs status for each one found
 - Mail is now set to the submitting user at the end of each run.
 - In the event of a cancelled or aborted pipeline run, the user only receives
   one email, not one per cancelled / aborted cluster job.

Features added that are not used by cga pipelines:
  - For pipeline implementers: add civet_run option --no-submit (short form -n)
    ability to generate scripts but not actually submit them to the cluster

Version 1.0.0
-------------
Initial production release
